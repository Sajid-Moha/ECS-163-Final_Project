<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Graphs</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }
    svg {
      display: block;
      margin: auto;
    }
  </style>
  <link rel="stylesheet" href="./styles.css">
  <link rel="stylesheet" href="./custom-components/slides.css">
  <link rel="stylesheet" href="./custom-components/year-slider.css">
</head>
<body>
      <!-- Mobile Filter Indicator -->
    <div id="mobile-filter-indicator">
        <div class="indicator-content">
            <div class="indicator-text">Main Graph Filters</div>
        </div>
        <div class="pull-arrow">▼</div>
    </div>
    
    <!-- Overlay for mobile -->
    <div class="filter-overlay" id="filter-overlay"></div>
    
    <!-- Filter Controls -->
    <div id="filter-controls">
        <button class="mobile-close-btn" id="mobile-close-btn">✕</button>
        <h3 style="margin: 0 0 15px 0; font-size: 16px;">Filter Options</h3>
        
        <!-- Enable/Disable Filtering -->
        <div class="filter-section">
            <label class="checkbox-label">
                <input type="checkbox" id="enable-filter">
                <span>Enable Filtering</span>
            </label>
        </div>
        
        <!-- Genre Filter -->
        <div class="filter-section">
            <button id="genre-toggle" class="filter-button">
                Genres ▼
            </button>
            <div id="genre-dropdown" class="filter-dropdown">
                <div class="select-all-option">
                    <label class="select-all-label">
                        <input type="checkbox" id="select-all-genres" style="margin-right: 5px;">
                        <strong>Select All</strong>
                    </label>
                </div>
                <div id="genre-list">
                    <div style="padding: 5px;">
                        <label style="display: block; padding: 3px; cursor: pointer; font-size: 12px;">
                            <input type="checkbox" style="margin-right: 5px;">
                            Action
                        </label>
                        <label style="display: block; padding: 3px; cursor: pointer; font-size: 12px;">
                            <input type="checkbox" style="margin-right: 5px;">
                            Comedy
                        </label>
                        <label style="display: block; padding: 3px; cursor: pointer; font-size: 12px;">
                            <input type="checkbox" style="margin-right: 5px;">
                            Drama
                        </label>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Keywords Filter -->
        <div class="filter-section">
            <button id="keyword-toggle" class="filter-button">
                Keywords ▼
            </button>
            <div id="keyword-dropdown" class="filter-dropdown">
                <div class="select-all-option">
                    <label class="select-all-label">
                        <input type="checkbox" id="select-all-keywords" style="margin-right: 5px;">
                        <strong>Select All</strong>
                    </label>
                </div>
                <div id="keyword-list">
                    <div style="padding: 5px;">
                        <label style="display: block; padding: 3px; cursor: pointer; font-size: 12px;">
                            <input type="checkbox" style="margin-right: 5px;">
                            Adventure
                        </label>
                        <label style="display: block; padding: 3px; cursor: pointer; font-size: 12px;">
                            <input type="checkbox" style="margin-right: 5px;">
                            Romance
                        </label>
                        <label style="display: block; padding: 3px; cursor: pointer; font-size: 12px;">
                            <input type="checkbox" style="margin-right: 5px;">
                            Thriller
                        </label>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Apply Button -->
        <button id="apply-filters" class="apply-button">
            Apply Filters
        </button>
    </div>

  <div id="slideshow-frame">
     <div class="slide-card active-slide">
        <h1 style="margin: 3em 1em 0em 1em; text-align: center;">What Factors Influence Movie Success?</h1>
    </div>

    <div class="slide-card inactive-slide">
        <h2>Factor One: Genres</h2>
        <svg width="1000" height="500" id="genres_graph"></svg>
        <p></p>
        <p style="font-weight: lighter; font-size: smaller;">
          The first factor we considered is genre. We chose to track the success of the top 10 revenue-generating genres of all time over time.
          We wanted to explore the claims of academic papers that claimed genre popularity fluctuates with economic climate:
          <a href="https://www.econbiz.de/Record/on-the-relationship-between-movie-genre-popularity-and-a-country-s-economic-condition-berger-paul/10008739311">Paper One,</a>
          <a href="https://scholarship.claremont.edu/cmc_theses/3836/#:~:text=The%20findings%20suggest%20that%20film,in%20response%20to%20economic%20cycles.">Paper Two.</a>
          
          <br><br>
          Upon exploration of the stream graph, which we chose due to its helpfulness in identifying big-picture trends, we found that there is little evidence to suggest that genre popularity is linked to economic climate.
          <br><br>

          We explored some notable recession years (1975, 1982, 1991, 2009, 2020) and failed to prove that poor economic state led to certain genres gaining or losing popularity.
          An interesting observation we found, though, was that during the great reccession (2007-2009), avg revenue for aventure and science fiction went up each year while thriller and comedy went down each year. 
          We feel that there isn't enough evidence to declare cause but it does suggest that there's merit to the idea that economic state affects movie success.
        </p>
    </div>

    <div class="slide-card inactive-slide">
        <h2>Variable Two: Keywords/Themes</h2>
        <label for="yearSlider" style="margin-left: 2em;">Year:</label>
        <div class="slider-wrapper">
            <input type="range"
                  id="yearSlider"
                  class="year-slider"
                  min="1911"
                  max="2024"
                  value="2024"
                  step="1">
            
            <div class="year-tooltip" id="yearTooltip">2024</div>
            
            <div class="year-labels">
                <span>1911</span>
                <span>2024</span>
            </div>
        </div>
        <svg width="1000" height="500" id="keywords_graph"></svg>
    </div>

    <div class="slide-card">
        <svg width="1000" height="500" id="main_graph"></svg>
    </div>
  </div>

  <button class="nav-bar nav-bar-left" id="prevBtn" aria-label="Previous slide" onclick="ScrollLeft()">
  </button>
  <button class="nav-bar nav-bar-right" id="nextBtn" aria-label="Next slide" onclick="ScrollRight()">
  </button>

  <script src="main.js"></script>
  <script src="./custom-components/slideshow_logic.js"></script>
  <script src="./custom-components/year-slider.js"></script>
  <script src="./custom-components/final_graph.js"></script>
  <script src="./custom-components/filter_menu_logic.js"></script>
</body>
</html>
